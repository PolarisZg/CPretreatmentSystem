# CPretreatmentSystem_C语言的预处理程序

## 项目目的
只是为了完成本年度的编译原理课程设计的课设 `(*ﾟ∇ﾟ)`

## 题目要求
&ensp;&ensp;设计一个C语言的预处理程序。将给出C语言的所有宏常量进行计算，并生成另外一个文件，将宏常量的展开和计算结果全部显示出来。<br>
&ensp;&ensp;将定义的宏在源程序中全部替换

## 程序处理过程 1.1

### 各个类的解释

#### `class data`

这个类用来去存放程序运行过程中所需要的数据:<br>

* `data_SaveWord` C语言程序的保留字，宏展开的时候需要将其略过<br>
* `data_defineData` C语言程序代码中的宏名，在遍历程序使根据宏名进行宏展开<br>
* `data_operator` 这个类暂时很杂，现在里面存放了在遍历程序时需要略过的算术运算符以及空格回车等等符号, 当前这个类就是用来对输入的文件进行预处理，从里面分割单词和运算符<br>
* `data_code` 从文件中读取代码嘛，就要在程序中保存下来，这个类使用`ArrayList`保存C语言代码，一行就是一个`ArrayList`，然后再将这些行串起来

#### `FileProcessor`

这个类用来处理C语言代码文件，读入C语言代码，然后将其转换为以`ArrayList`的形式存放的代码链

#### `code_processor`

这个类用来处理上面以 `ArrayList` 保存下来的代码链，先分离所有宏声明的变量，并把这些变量放置在字典 `data_defineData` 中<br>

> 这里使用了一个对于代码的限制，`#define`定义的宏变量需要是这样的形式，即 `#define + 空格* + 变量名 + 空格* + 变量内容`

然后再去分离代码中的变量和变量类型 <small>这里我还没写</small>

#### `etc`

一个杂项类，里面放一些不知道该放哪的代码，现在里面的代码有:<br>
* `typeString` 这个方法用来判断宏类型定义的变量的类型，由于题目设定的原因，不仅要进行宏展开还要进行对于宏内部数据的运算(什么垃圾题目，宏就是用来全部替换展开的，还要对宏进行化简)，运算就要获得宏内容的数据类型，所以就写一个方法去判断到底是整型还是浮点型还是字符串

### 完了
词法分析 语法分析 语义分析 转为后缀式 求值 完事。
本来还想用动态编译来偷个懒~~~